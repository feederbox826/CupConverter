// http://feederbox.cc/gh/CupConverter (MIT)
function JPtoUS(cup, bust, waist, hip) {
  const cmToIn = cm => Math.round(cm * 0.393701)
  const bandSize = (overBustCm, bustSizeCm) => {
    let band = cmToIn(Math.round(overBustCm - bustSizeCm))
    return band += band % 2 === 0 ? 4 : 5
  }
  const cupCm = cup.toUpperCase().charCodeAt() - 65 + 1
  const usCup = bustDiff => bustDiff < 1 ? 'AA' : String.fromCharCode(Math.round(bustDiff) + 65 - 1)
  return `${bandSize(bust,cupCm)}${usCup(cmToIn(cupCm))}-${cmToIn(waist)}-${cmToIn(hip)}`
}

module.exports = {
  JPtoUS
}